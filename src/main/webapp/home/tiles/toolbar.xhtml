<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<body>
	<ui:composition>
		<h:outputScript name="js/loopj-jquery-tokeninput/src/jquery.tokeninput.js" target="head" />
		<h:outputStylesheet name="js/loopj-jquery-tokeninput/styles/token-input.css" target="head" />
		<h:outputStylesheet name="js/loopj-jquery-tokeninput/styles/token-input-mac.css" target="head" />
		<h:outputStylesheet name="js/loopj-jquery-tokeninput/styles/token-input-facebook.css" target="head" />
		<h:outputScript target="head">
		    $(document).ready(function() {
				$("#searchForm\\:searchObjet").tokenInput(
					"#{facesContext.externalContext.requestContextPath}/rest/providers/amazon/",
					 {
					 	theme: "facebook",
					 	hintText: "Objet recherch√©",
					 	tokenValue: "amazonId",
	 	                resultsFormatter: 
	 	                	function(item){
		 	                	 return '<li><div style="display:inline-block;vertical-align:middle;"><img src="' + item.smallImageUrl + '" title="' + item.name + '" height="25px"/></div><div style="display:inline-block;vertical-align:middle; width:250px;" >' +item.name +'</div></li>'; 
		 	                }
					 });
		    	$('#searchForm\\:searchCity').tokenInput(
		    		'#{facesContext.externalContext.requestContextPath}/rest/search/locations/', 
		    		{
		    			theme: 'facebook',
		    			hintText: 'Code postal ou Ville'
		    		});
		    });
		</h:outputScript>
		<div id="toolbar">
			<!-- May use an include there -->
			<h:form id="searchForm">
				<fieldset>
					<div id="searchPart2">
						<div id="cityBox">
							<h:inputText id="searchCity" value="Code postal ou Ville" />
						</div>
						<h:commandButton id="bouton" value="Rechercher !" type="button" />
					</div>
					<div id="searchPart1">
						<div id="searchObjetBox" class="searchBox">
							<h:inputText id="searchObjet" value="Recherche d'objet" />
						</div>
						<div id="searchMemberBox" class="searchBox">
							<h:inputText id="searchMember" value="Recherche" />
						</div>
					</div>
				</fieldset>
			</h:form>
		</div>
	</ui:composition>
</body>
</html>