<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<body>
	<ui:composition template="/home/template/mainLayout.xhtml">
		<f:metadata>
		    <f:viewParam name="register" value="true"/>            
	 		<f:event listener="#{userBean.checkUserLogged}" type="preRenderView" />
	 	</f:metadata>
		<ui:define name="mainDiv">
			<h:outputScript name="js/_initProfile.js" target="head" />
			<h:outputStylesheet name="css/profile.css" target="head" />
			<div>
				<h:form id="modifyProfile">
					<div class="loginField">
						<div class="label">
							<h:outputLabel for="loginField">#{text_profile.LOGIN_LABEL}</h:outputLabel>
						</div>
						<div class="field">
							<h:inputText id="loginField" value="#{userBean.login}" class="loginBox" tabindex="10"/>
						</div>
						<div class="error"><h:message for="loginField"/></div>
					</div>
					<div class="loginField">
						<div class="label">
							<h:outputLabel for="passwordField">#{text_profile.PASSWORD_LABEL}</h:outputLabel>
						</div>
						<div class="field">
							<h:inputSecret id="passwordField" value="#{userBean.password}" class="loginBox" tabindex="20"/>
							<div class="error"><h:message for="passwordField" /></div>
						</div>
					</div>
					<div class="loginField" id="passwordConfirm">
						<div class="label">
							<h:outputLabel for="passwordConfirmField">#{text_profile.PASSWORD_LABEL_CONFIRM}</h:outputLabel>
						</div>
						<div class="field">
							<h:inputSecret id="passwordConfirmField" value="#{userBean.passwordConfirm}" class="loginBox"  tabindex="30"/>
							<span class="error"><h:message for="passwordConfirmField" /></span>
						</div>
					</div>
					<div class="loginField">
						<div class="label">
							<label for="place">Ville / Code postal / Region</label>
						</div>
						<div class="field">
							<input type="text" id="userPlaceName" class="loginBox" tabindex="70"/>
							<h:inputHidden value="#{userBean.placeId}" class="loginBox"/>
						</div>
					</div>
					<div class="loginField">
						<div id="registerButton">
							<h:commandButton value="Modifier" action="#{userBean.updateUser}" tabindex="80" />
						</div>		
					</div>
				</h:form>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>